<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
    <button id="check">新手报到</button>
    <ul id="world-list"></ul>

<script type="text/javascript" src="http://img.soufun.com/rent/image/rent/js/maplist/jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="underscore.js"></script>
<script type="text/javascript" src="backbone.js"></script>
<script>
    (function($){
        var World=Backbone.Model.extend({
            name:null  //创建一个World对象，拥有name属性
        });

        var Worlds=Backbone.Collection.extend({
            //World对象的集合
            initialize:function(models,options){
                this.bind('add',
                options.view.addOneWorld
                );
            }
        });

        var AppView=Backbone.View.extend({
            el:$('body'),
            initialize:function(){
                this.worlds=new Worlds(null,{//构造函数，实例化一个Worlds的集合类，并且以字典的方式传入AppView对象
                    view:this
                });
            },
            events:{
                'click #check':'checkIn'//事件绑定，绑定Dom中id为check的元素
            },
            checkIn:function(){
                var world_name=prompt("请问你来自哪个世界");
                if(world_name==''){
                    world_name='未知'
                }
                var world=new World({name:world_name});
                this.worlds.add(world);
            },
            addOneWorld:function(model){
                $('#world-list').append('<li>这里是来自<b>' +
                        model.get('name') +
                '</b>的问候：hello Backbone！</li>')
            }
        });
        var appView=new AppView;
    })(jQuery)
    

</script>
</body>
</html>