/**
 * vue-validator v1.4.4
 * (c) 2014-2015 kazuya kawaguchi
 * Released under the MIT License.
 */

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-validator"]=e():t["vue-validator"]=e()}(this,function(){return function(t){function e(a){if(i[a])return i[a].exports;var n=i[a]={exports:{},id:a,loaded:!1};return t[a].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){function a(t,e){function a(t,e){var i=null;try{i=d.get(t,e)}catch(a){}return i}e=e||{};var o=e.component=e.component||"$validator",s=e.directive=e.directive||"validate",d=t.parsers.path,l=t.util;t.config.optionMergeStrategies.validator=function(t,e,i,a){var n={validates:{},namespace:{}};if(t||e){if(!t&&e)return l.extend(n.validates,e.validates),l.extend(n.namespace,e.namespace),n;if(t&&!e)return l.extend(n.validates,t.validates),l.extend(n.namespace,t.namespace),n;if(t&&e){var o;if("validates"in t&&l.extend(n.validates,t.validates),"namespace"in t&&l.extend(n.namespace,t.namespace),"validates"in e)for(o in e.validates)"validates"in t&&!t.validates.hasOwnProperty(o)&&(n.validates[o]=e.validates[o]);if("namespace"in e)for(o in e.namespace)"namespace"in t&&!t.namespace.hasOwnProperty(o)&&(n.namespace[o]=e.namespace[o]);return n}return r.warn("unexpected validator option merge strategy"),n}return n},t.directive(s,{priority:1024,bind:function(){var e=this.vm,a=this.el,s=e[o],d=this._keypath=this._parseModelAttribute(a.getAttribute(t.config.prefix+"model")),c=this.arg?this.arg:this.expression,p=this.arg?this.expression:null,u=r.getCustomValidators(e.$options);if(!this._checkValidator(c,n,u))return r.warn("specified invalid '"+c+"' validator at v-validate directive !! please check '"+c+"' validator !!"),void(this._ignore=!0);s||(e[o]=s=e.$addChild({},t.extend(i(3))));var h=a.getAttribute("value");null!==a.getAttribute("number")&&(h=l.toNumber(h)),this._init=h;var f=s._getValidationNamespace("validation"),v=h||e.$get(d),_=a.getAttribute("wait-for");_&&!s._isRegistedReadyEvent(d)&&s._addReadyEvents(d,this._checkParam("wait-for")),this._setupValidator(s,d,f,c,a,p,v)},update:function(t,e){if(!this._ignore){var i=this,a=this.vm,n=this._keypath,r=this.arg?this.arg:this.expression,s=a[o];s._changeValidator(n,r,t),s._isRegistedReadyEvent(n)?a.$once(s._getReadyEvents(n),function(t){s._setInitialValue(n,t),a.$set(n,t),i._updateValidator(s,r,n)}):this._updateValidator(s,r,n)}},unbind:function(){if(!this._ignore){var t=this.vm,e=this._keypath,i=this.arg?this.arg:this.expression,a=t[o];this._teardownValidator(t,a,e,i)}},_parseModelAttribute:function(e){var i=t.parsers.directive.parse(e);return i[0].arg?i[0].arg:i[0].expression},_checkValidator:function(t,e,i){var a=Object.keys(e).concat(Object.keys(i));return a.some(function(e){return e===t})},_setupValidator:function(t,e,i,n,r,o,s){var d=this.vm;a(t[i],e)||(t._defineModelValidationScope(e),"INPUT"===r.tagName&&"radio"===r.type?a(d,e)===s&&t._setInitialValue(e,s):t._setInitialValue(e,s)),a(t[i],[e,n].join("."))||(t._defineValidatorToValidationScope(e,n),t._addValidator(e,n,a(d,o)||o))},_updateValidator:function(t,e,i){var a=t.$get(i),n=this.el;this._init&&(a=this._init,delete this._init),"INPUT"===n.tagName&&"radio"===n.type?a===t.$get(i)&&t._updateDirtyProperty(i,a):t._updateDirtyProperty(i,a),t._doValidate(i,e,t.$get(i))},_teardownValidator:function(t,e,i,a){e._undefineValidatorToValidationScope(i,a),e._undefineModelValidationScope(i,a)}})}var n=i(1),r=i(2);t.exports=a},function(t,e){function i(t){return Array.isArray(t)?t.length>0:"number"==typeof t?!0:null!==t&&"object"==typeof t?Object.keys(t).length>0:t?!0:!1}function a(t,e){if("string"!=typeof e)return!1;var i=e.match(new RegExp("^/(.*?)/([gimy]*)$"));return i?new RegExp(i[1],i[2]).test(t):!1}function n(t,e){return"string"==typeof t&&d(e,10)&&t.length>=parseInt(e,10)}function r(t,e){return"string"==typeof t&&d(e,10)&&t.length<=parseInt(e,10)}function o(t,e){return!isNaN(+t)&&!isNaN(+e)&&+t>=+e}function s(t,e){return!isNaN(+t)&&!isNaN(+e)&&+e>=+t}function d(t){return/^(-?[1-9]\d*|0)$/.test(t)}t.exports={required:i,pattern:a,minLength:n,maxLength:r,min:o,max:s}},function(t,e){e.warn=function(t,e){window.console&&(console.warn("[vue-validator] "+t),e&&console.warn(e.stack))},e.getTarget=function(t,e){for(var i,a,n=t,r=e.split("."),o=0;o<r.length&&(i=r[o],a=n[i],n=a,n);o++);return n},e.getCustomValidators=function(t){var e,i,a=t,n={};do{if(a.validator&&a.validator.validates)for(e in a.validator.validates)n.hasOwnProperty(e)||(n[e]=a.validator.validates[e]);i=a._context||a._parent,i&&(a=i.$options)}while(i||a._parent);return n}},function(t,e,i){function a(t,e){for(var i,a,n=e.split(".");n.length;)i=n.pop(),0!==n.length?(a=o.getTarget(t,n.join(".")),a.$delete(i)):t.$delete(i)}function n(t){var e,i,a={};do{if(t.validator&&t.validator.namespace)for(e in t.validator.namespace)a.hasOwnProperty(e)||(a[e]=t.validator.namespace[e]);i=t._context||t._parent,i&&(t=i.$options)}while(i||t._parent);return a}var r=i(1),o=i(2);t.exports={inherit:!0,created:function(){this._initValidationVariables(),this._initOptions(),this._mixinCustomValidates(),this._defineProperties(),this._defineValidationScope()},methods:{_getValidationNamespace:function(t){return this._namespace[t]},_initValidationVariables:function(){this._validators={},this._validates={},this._initialValues={};for(var t in r)this._validates[t]=r[t];this._validatorWatchers={},this._readyEvents={}},_initOptions:function(){this._namespace=n(this.$options),this._namespace.validation=this._namespace.validation||"validation",this._namespace.valid=this._namespace.valid||"valid",this._namespace.invalid=this._namespace.invalid||"invalid",this._namespace.dirty=this._namespace.dirty||"dirty"},_mixinCustomValidates:function(){var t=o.getCustomValidators(this.$options);for(var e in t)this._validates[e]=t[e]},_defineValidProperty:function(t,e){Object.defineProperty(t,this._getValidationNamespace("valid"),{enumerable:!0,configurable:!0,get:e})},_undefineValidProperty:function(t){delete t[this._getValidationNamespace("valid")]},_defineInvalidProperty:function(t){var e=this;Object.defineProperty(t,this._getValidationNamespace("invalid"),{enumerable:!0,configurable:!0,get:function(){return!t[e._getValidationNamespace("valid")]}})},_undefineInvalidProperty:function(t){delete t[this._getValidationNamespace("invalid")]},_defineDirtyProperty:function(t,e){Object.defineProperty(t,this._getValidationNamespace("dirty"),{enumerable:!0,configurable:!0,get:e})},_undefineDirtyProperty:function(t){delete t[this._getValidationNamespace("dirty")]},_defineProperties:function(){var t=this,e=function(i,a,n){for(var r,o,s=!1,d=Object.keys(i),l=d.length;l--;)if(r=d[l],o=i[r],r in n||"object"!=typeof o){if(r===a&&"object"!=typeof o&&(s=o,r===t._getValidationNamespace("valid")&&!s||r===t._getValidationNamespace("dirty")&&s))break}else if(s=e(o,a,n),a===t._getValidationNamespace("valid")&&!s||a===t._getValidationNamespace("dirty")&&s)break;return s};this._defineValidProperty(this.$parent,function(){var i=t._getValidationNamespace("validation"),a=t._getValidationNamespace("valid");return e(this[i],a,t._namespace)}),this._defineInvalidProperty(this.$parent),this._defineDirtyProperty(this.$parent,function(){var i=t._getValidationNamespace("validation"),a=t._getValidationNamespace("dirty");return e(this[i],a,t._namespace)})},_undefineProperties:function(){this._undefineDirtyProperty(this.$parent),this._undefineInvalidProperty(this.$parent),this._undefineValidProperty(this.$parent)},_defineValidationScope:function(){this.$parent.$add(this._getValidationNamespace("validation"),{})},_undefineValidationScope:function(){var t=this._getValidationNamespace("validation");this.$parent.$delete(t)},_defineModelValidationScope:function(t){for(var e,i,a=this,n=this._getValidationNamespace("validation"),r=this._getValidationNamespace("dirty"),o=t.split("."),s=this[n],d=0;d<o.length;d++)i=o[d],e=s[i],e||(e={},s.$add(i,e)),s=e;s.$add(r,!1),this._defineValidProperty(s,function(){for(var e,i=!0,n=a._validators[t],r=n.length;r--;)if(e=n[r],s[e.name]){i=!1;break}return i}),this._defineInvalidProperty(s),this._validators[t]=[],this._watchModel(t,function(e,i){a._updateDirtyProperty(t,e),a._validators[t].forEach(function(i){a._doValidate(t,i.name,e)})})},_undefineModelValidationScope:function(t,e){if(this.$parent){var i=[this._getValidationNamespace("validation"),t].join("."),n=this.$parent.$get(i);n&&3===Object.keys(n).length&&this._getValidationNamespace("valid")in n&&this._getValidationNamespace("invalid")in n&&this._getValidationNamespace("dirty")in n&&(this._unwatchModel(t),this._undefineDirtyProperty(n),this._undefineInvalidProperty(n),this._undefineValidProperty(n),a(this.$parent.$get(this._getValidationNamespace("validation")),t))}},_defineValidatorToValidationScope:function(t,e){var i=o.getTarget(this[this._getValidationNamespace("validation")],t);i.$add(e,null)},_undefineValidatorToValidationScope:function(t,e){var i=this._getValidationNamespace("validation");if(this.$parent){var a=[i,t].join("."),n=this.$parent.$get(a);n&&n.$delete(e)}},_getInitialValue:function(t){return this._initialValues[t]},_setInitialValue:function(t,e){this._initialValues[t]=e},_addValidator:function(t,e,i){this._validators[t].push({name:e,arg:i})},_changeValidator:function(t,e,i){for(var a=this._validators[t],n=a.length;n--;)if(a[n].name===e){a[n].arg=i;break}},_findValidator:function(t,e){for(var i=null,a=this._validators[t],n=a.length;n--;)if(a[n].name===e){i=a[n];break}return i},_watchModel:function(t,e){this._validatorWatchers[t]=this.$watch(t,e,{deep:!1,immediate:!0})},_unwatchModel:function(t){var e=this._validatorWatchers[t];e&&(e(),delete this._validatorWatchers[t])},_addReadyEvents:function(t,e){this._readyEvents[t]=e},_getReadyEvents:function(t){return this._readyEvents[t]},_isRegistedReadyEvent:function(t){return t in this._readyEvents},_updateDirtyProperty:function(t,e){var i=this._getValidationNamespace("validation"),a=this._getValidationNamespace("dirty"),n=o.getTarget(this[i],t);n&&n.$set(a,this._getInitialValue(t)!==e)},_doValidate:function(t,e,i){var a=this._getValidationNamespace("validation"),n=o.getTarget(this[a],t),r=this._findValidator(t,e);n&&r&&this._invokeValidator(this._validates[e],i,r.arg,function(t){n.$set(e,!t)})},_invokeValidator:function(t,e,i,a){var n=t.call(this,e,i);if("function"==typeof n)if(n.resolved)a(n.resolved);else if(n.requested)n.pendingCallbacks.push(a);else{n.requested=!0;var r=n.pendingCallbacks=[a];n(function(){n.resolved=!0;for(var t=0,e=r.length;e>t;t++)r[t](!0)},function(){a(!1)})}else a(n)}}}}])});